{"ast":null,"code":"import _defineProperty from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/defineProperty\";import _objectSpread from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/objectSpread2\";import _classCallCheck from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import $ from\"jquery\";import EmulatorView from\"./EmulatorView\";import{initScreen,setAs400Screen,setAs400Style,setAS400Cursor,markAllCheckStringOnScreen,getHighlightDefault}from\"./controler\";import\"./css/style.css\";var Emulator=/*#__PURE__*/function(_Component){_inherits(Emulator,_Component);function Emulator(props){var _this;_classCallCheck(this,Emulator);_this=_possibleConstructorReturn(this,_getPrototypeOf(Emulator).call(this,props));_this.markAllCheckString=function(markListData){var id=_this.state.id;_this.clearAllMarkChackString(id);_this.setState({markList:markListData});markAllCheckStringOnScreen(id,markListData);};_this.clearAllMarkChackString=function(elStr){var _this$state=_this.state,rowSize=_this$state.rowSize,colSize=_this$state.colSize;var elHighlight=$(\".\".concat(elStr,\".as400-highlight\"));elHighlight.html(getHighlightDefault(rowSize,colSize));_this.setState({markList:{}});};_this.markStringChackString=function(markType,highlight){var newMarkList=\"\";var markList=_this.state.markList;newMarkList=_objectSpread({},markList,_defineProperty({},markType.replace(\"-\",\"\"),highlight));_this.setState({markList:newMarkList});_this.markAllCheckString(newMarkList);};_this.clearMarkString=function(markType){var newMarkList=\"\";var markList=_this.state.markList;var markData={};newMarkList=_objectSpread({},markList,_defineProperty({},markType.replace(\"-\",\"\"),markData));_this.setState({markList:newMarkList});_this.markAllCheckString(newMarkList);};_this.state={id:props.id,markList:props.highlightList,lastSelection:{startIndex:0,endIndex:0},rowSize:props.rows,colSize:props.cols};return _this;}_createClass(Emulator,[{key:\"componentDidMount\",value:function componentDidMount(){var _this$props=this.props,id=_this$props.id,rows=_this$props.rows,cols=_this$props.cols,text=_this$props.text,style=_this$props.style,cursor=_this$props.cursor;initScreen(id,rows,cols);setAs400Screen(id,text);setAs400Style(id,text,style);setAS400Cursor(id,cursor);}},{key:\"render\",value:function render(){var _this$props2=this.props,id=_this$props2.id,readOnly=_this$props2.readOnly;return React.createElement(EmulatorView,{id:id,readOnly:readOnly});}// Set default props\n}]);return Emulator;}(Component);Emulator.defaultProps={id:new Date().getTime(),rows:24,cols:80,text:\"                                                                                \\n                                                                            \\n                                                                            \\n                                                                            \\n                                                                            \\n================================================================================\\n********************************************************************************\\n================================================================================\\n                                                                                \\n  ######  ##       ##  ##    ##  ##      ########  ########  ########  #######  \\n  ##      ###     ###  ##    ##  ##      ##    ##     ##     ##    ##  ##   ##  \\n  ######  ####   ####  ##    ##  ##      ########     ##     ##    ##  #######  \\n  ##      ## ## ## ##  ##    ##  ##      ##    ##     ##     ##    ##  ##  ##   \\n  ######  ##  ###  ##  ########  ######  ##    ##     ##     ########  ##   ##  \\n                                                                                \\n================================================================================\\n********************************************************************************\\n================================================================================\\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \",style:\"................................................................................\\n............................................................................\\n............................................................................\\n............................................................................\\n............................................................................\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\n................................................................................\\n  GGGGGG  GG       GG  GG    GG  GG      GGGGGGGG  GGGGGGGG  GGGGGGGG  GGGGGGG  \\n  GG      GGG     GGG  GG    GG  GG      GG    GG     GG     GG    GG  GG   GG  \\n  GGGGGG  GGGG   GGGG  GG    GG  GG      GGGGGGGG     GG     GG    GG  GGGGGGG  \\n  GG      GG GG GG GG  GG    GG  GG      GG    GG     GG     GG    GG  GG  GG   \\n  GGGGGG  GG  GGG  GG  GGGGGGGG  GGGGGG  GG    GG     GG     GGGGGGGG  GG   GG  \\n................................................................................\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\n................................................................................\\n................................................................................\\n................................................................................\\n.................................................................................\",cursor:\"0,0\",readOnly:false};export default Emulator;","map":{"version":3,"sources":["/Users/jutawuth/Git/react/AS400Emulator/src/components/Emulator/index.jsx"],"names":["React","Component","$","EmulatorView","initScreen","setAs400Screen","setAs400Style","setAS400Cursor","markAllCheckStringOnScreen","getHighlightDefault","Emulator","props","markAllCheckString","markListData","id","state","clearAllMarkChackString","setState","markList","elStr","rowSize","colSize","elHighlight","html","markStringChackString","markType","highlight","newMarkList","replace","clearMarkString","markData","highlightList","lastSelection","startIndex","endIndex","rows","cols","text","style","cursor","readOnly","defaultProps","Date","getTime"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport PropTypes from \"prop-types\";\nimport $ from \"jquery\";\n\nimport EmulatorView from \"./EmulatorView\";\nimport {\n  initScreen,\n  setAs400Screen,\n  setAs400Style,\n  setAS400Cursor,\n  markAllCheckStringOnScreen,\n  getHighlightDefault\n} from \"./controler\";\n\nimport \"./css/style.css\";\n\nclass Emulator extends Component {\n  constructor(props) {\n    super(props);\n\n    this.state = {\n      id: props.id,\n      markList: props.highlightList,\n      lastSelection: {\n        startIndex: 0,\n        endIndex: 0\n      },\n      rowSize: props.rows,\n      colSize: props.cols\n    };\n  }\n\n  componentDidMount() {\n    const { id, rows, cols, text, style, cursor } = this.props;\n\n    initScreen(id, rows, cols);\n    setAs400Screen(id, text);\n    setAs400Style(id, text, style);\n    setAS400Cursor(id, cursor);\n  }\n\n  markAllCheckString = markListData => {\n    const { id } = this.state;\n    this.clearAllMarkChackString(id);\n    this.setState({\n      markList: markListData\n    });\n\n    markAllCheckStringOnScreen(id, markListData);\n  };\n\n  clearAllMarkChackString = elStr => {\n    const { rowSize, colSize } = this.state;\n    const elHighlight = $(`.${elStr}.as400-highlight`);\n    elHighlight.html(getHighlightDefault(rowSize, colSize));\n\n    this.setState({\n      markList: {}\n    });\n  };\n\n  markStringChackString = (markType, highlight) => {\n    let newMarkList = \"\";\n    const markList = this.state.markList;\n\n    newMarkList = {\n      ...markList,\n      [markType.replace(\"-\", \"\")]: highlight\n    };\n\n    this.setState({ markList: newMarkList });\n    this.markAllCheckString(newMarkList);\n  };\n\n  clearMarkString = markType => {\n    let newMarkList = \"\";\n    const markList = this.state.markList;\n    const markData = {};\n\n    newMarkList = {\n      ...markList,\n      [markType.replace(\"-\", \"\")]: markData\n    };\n\n    this.setState({ markList: newMarkList });\n    this.markAllCheckString(newMarkList);\n  };\n\n  render() {\n    const { id, readOnly } = this.props;\n    return <EmulatorView id={id} readOnly={readOnly} />;\n  }\n\n  // Set default props\n  static defaultProps = {\n    id: new Date().getTime(),\n    rows: 24,\n    cols: 80,\n    text:\n      \"                                                                                \\n                                                                            \\n                                                                            \\n                                                                            \\n                                                                            \\n================================================================================\\n********************************************************************************\\n================================================================================\\n                                                                                \\n  ######  ##       ##  ##    ##  ##      ########  ########  ########  #######  \\n  ##      ###     ###  ##    ##  ##      ##    ##     ##     ##    ##  ##   ##  \\n  ######  ####   ####  ##    ##  ##      ########     ##     ##    ##  #######  \\n  ##      ## ## ## ##  ##    ##  ##      ##    ##     ##     ##    ##  ##  ##   \\n  ######  ##  ###  ##  ########  ######  ##    ##     ##     ########  ##   ##  \\n                                                                                \\n================================================================================\\n********************************************************************************\\n================================================================================\\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \",\n    style:\n      \"................................................................................\\n............................................................................\\n............................................................................\\n............................................................................\\n............................................................................\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\n................................................................................\\n  GGGGGG  GG       GG  GG    GG  GG      GGGGGGGG  GGGGGGGG  GGGGGGGG  GGGGGGG  \\n  GG      GGG     GGG  GG    GG  GG      GG    GG     GG     GG    GG  GG   GG  \\n  GGGGGG  GGGG   GGGG  GG    GG  GG      GGGGGGGG     GG     GG    GG  GGGGGGG  \\n  GG      GG GG GG GG  GG    GG  GG      GG    GG     GG     GG    GG  GG  GG   \\n  GGGGGG  GG  GGG  GG  GGGGGGGG  GGGGGG  GG    GG     GG     GGGGGGGG  GG   GG  \\n................................................................................\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\nGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGGG\\n................................................................................\\n................................................................................\\n................................................................................\\n.................................................................................\",\n    cursor: \"0,0\",\n    readOnly: false\n  };\n}\n\nEmulator.propTypes = {\n  id: PropTypes.string,\n  rows: PropTypes.number,\n  cols: PropTypes.number,\n  text: PropTypes.string,\n  style: PropTypes.string,\n  cursor: PropTypes.string,\n  readOnly: PropTypes.bool\n};\n\nexport default Emulator;\n"]},"metadata":{},"sourceType":"module"}