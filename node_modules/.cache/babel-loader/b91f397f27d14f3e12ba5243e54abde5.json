{"ast":null,"code":"import _classCallCheck from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/classCallCheck\";import _createClass from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";import _inherits from\"/Users/jutawuth/Git/react/AS400Emulator/node_modules/@babel/runtime/helpers/esm/inherits\";import React,{Component}from\"react\";import Axios from\"axios\";import ListMapping from\"../../components/ListMapping\";import{setAs400Screen,setAs400Style,getAS400Cursor,setAS400Cursor,getIndexByRowCol,setSelectionRange,getStartSelection,getEndSelection}from\"../../components/Emulator/controler\";var data={HEADER:{tokenId:\"EWI112233445566\",requestId:\"ABC123456789\",deviceId:\"UUID9988776655\"},DATA:{screen:{rows:24,cols:80},Text:\"                                   Sign On                                      \\n                                               System  . . . . . :   S101CD3M   \\n                                               Subsystem . . . . :   QINTER     \\n                                               Display . . . . . :   QPADEV003R \\n                                                                                \\n                User  . . . . . . . . . . . . . .                               \\n                Password  . . . . . . . . . . . .                               \\n                Program/procedure . . . . . . . .                               \\n                Menu  . . . . . . . . . . . . . .                               \\n                Current library . . . . . . . . .                               \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                        (C) COPYRIGHT IBM CORP. 1980, 2005.     \",Style:\".................................RRRRRRRRRRRRR..................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n.........................................................UUUUUUUUUU.............\\n.........................................................HHHHHHHHHH.............\\n.........................................................UUUUUUUUUU.............\\n.........................................................UUUUUUUUUU.............\\n.........................................................UUUUUUUUUU.............\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\",Cursor:\"5,53\"}};var id=\"flow4\";var _data$DATA$screen=data.DATA.screen,rows=_data$DATA$screen.rows,cols=_data$DATA$screen.cols;var _data$DATA=data.DATA,text=_data$DATA.Text,style=_data$DATA.Style,cursor=_data$DATA.Cursor;var highlightList={mark1:{text:\"          \",row:6,col:58}};var onDblClickHandler=function onDblClickHandler(event){// console.log(`| ========== ${event.type} ========== |`);\nvar eventKey=event.key;if(event.keyCode>=8&&event.keyCode<48){eventKey=\"[' + \".concat(eventKey.toLowerCase(),\" + ']\");}var selected=getStartSelection(id,cols);var dataForApi={HEADER:{tokenId:\"EWI112233445566\",requestId:\"ABC123456789\",deviceId:\"UUID9988776655\"// requestCount: this.resultCount\n},DATA:{Event:\"SELECTION\",KeyValue:eventKey,Cursor:\"\".concat(selected.row,\",\").concat(selected.col)}};Axios({method:\"post\",url:\"http://localhost:8085/emulator\",data:JSON.stringify(dataForApi),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){// handle success\nvar data=response.data.DATA;setAs400Screen(id,data.Text);setAs400Style(id,data.Text,data.Style);setAS400Cursor(id,data.Cursor);// clearAllMarkChackString(id);\nvar fields=data.Fields;var selection=null;var index=getAS400Cursor(data.Cursor);fields.forEach(function(f){if(Math.abs(f.EndRow-f.StartRow)===0){if(index.col>=f.StartCol&&index.col<=f.EndCol&&f.StartRow===index.row){selection=f;}}});var selectionStart=getIndexByRowCol(selection.StartRow,selection.StartCol);var selectionEnd=getIndexByRowCol(selection.EndRow,selection.EndCol);setSelectionRange(id,selectionStart,selectionEnd);}).catch(function(response){// handle error\nconsole.log(\"response: \".concat(response));});};var onMouseUpHandler=function onMouseUpHandler(event){// console.log(`| ========== ${event.type} ========== | `);\nif(event.keyCode===9||event.keyCode>111&&event.keyCode!==123){event.preventDefault();}var eventKey=event.key;var selected=getStartSelection(id,cols);if(event.keyCode>=8&&event.keyCode<48){eventKey=\"[' + \".concat(eventKey.toLowerCase(),\" + ']\");}var dataForApi={HEADER:{tokenId:\"EWI112233445566\",requestId:\"ABC123456789\",deviceId:\"UUID9988776655\"// requestCount: this.resultCount\n},DATA:{Event:\"KEYDOWN\",KeyValue:eventKey,Cursor:\"\".concat(selected.row,\",\").concat(selected.col)}};Axios({method:\"post\",url:\"http://localhost:8085/emulator\",data:JSON.stringify(dataForApi),headers:{\"Content-Type\":\"application/json\"}}).then(function(response){// console.log(`| ========== ${event.type} ========== | `);\nvar startSelection=getStartSelection(id,cols);var endSelection=getEndSelection(id,cols);var selectionStart=getIndexByRowCol(startSelection.row,0)+2;var selectionEnd=getIndexByRowCol(endSelection.row,cols)+2;setSelectionRange(id,selectionStart,selectionEnd);}).catch(function(response){// handle error\nconsole.log(\"response: \".concat(response));});};var ListMappingPage=/*#__PURE__*/function(_Component){_inherits(ListMappingPage,_Component);function ListMappingPage(props){var _this;_classCallCheck(this,ListMappingPage);_this=_possibleConstructorReturn(this,_getPrototypeOf(ListMappingPage).call(this,props));_this.smRef=React.createRef();return _this;}_createClass(ListMappingPage,[{key:\"render\",value:function render(){var _this2=this;return React.createElement(\"div\",null,React.createElement(ListMapping,{id:id,ref:this.smRef,rows:rows,cols:cols,text:text,style:style,cursor:cursor,highlight:highlightList,onDoubleClick:onDblClickHandler,onMouseUp:onMouseUpHandler}),React.createElement(\"button\",{onClick:function onClick(){console.log(_this2.smRef.current.getListHighlight());}},\"get list marker\"),React.createElement(\"button\",{onClick:function onClick(){_this2.smRef.current.clearListHighlight();}},\"clear list marker\"),React.createElement(\"button\",{onClick:function onClick(){console.log(_this2.smRef.current.getFieldHighlight());}},\"get field marker\"),React.createElement(\"button\",{onClick:function onClick(){_this2.smRef.current.clearFieldHighlight();}},\"clear field marker\"));}}]);return ListMappingPage;}(Component);export default ListMappingPage;","map":{"version":3,"sources":["/Users/jutawuth/Git/react/AS400Emulator/src/pages/ListMapping/index.jsx"],"names":["React","Component","Axios","ListMapping","setAs400Screen","setAs400Style","getAS400Cursor","setAS400Cursor","getIndexByRowCol","setSelectionRange","getStartSelection","getEndSelection","data","HEADER","tokenId","requestId","deviceId","DATA","screen","rows","cols","Text","Style","Cursor","id","text","style","cursor","highlightList","mark1","row","col","onDblClickHandler","event","eventKey","key","keyCode","toLowerCase","selected","dataForApi","Event","KeyValue","method","url","JSON","stringify","headers","then","response","fields","Fields","selection","index","forEach","f","Math","abs","EndRow","StartRow","StartCol","EndCol","selectionStart","selectionEnd","catch","console","log","onMouseUpHandler","preventDefault","startSelection","endSelection","ListMappingPage","props","smRef","createRef","current","getListHighlight","clearListHighlight","getFieldHighlight","clearFieldHighlight"],"mappings":"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","sourcesContent":["import React, { Component } from \"react\";\nimport Axios from \"axios\";\n\nimport ListMapping from \"../../components/ListMapping\";\n\nimport {\n  setAs400Screen,\n  setAs400Style,\n  getAS400Cursor,\n  setAS400Cursor,\n  getIndexByRowCol,\n  setSelectionRange,\n  getStartSelection,\n  getEndSelection\n} from \"../../components/Emulator/controler\";\n\nconst data = {\n  HEADER: {\n    tokenId: \"EWI112233445566\",\n    requestId: \"ABC123456789\",\n    deviceId: \"UUID9988776655\"\n  },\n  DATA: {\n    screen: { rows: 24, cols: 80 },\n    Text:\n      \"                                   Sign On                                      \\n                                               System  . . . . . :   S101CD3M   \\n                                               Subsystem . . . . :   QINTER     \\n                                               Display . . . . . :   QPADEV003R \\n                                                                                \\n                User  . . . . . . . . . . . . . .                               \\n                Password  . . . . . . . . . . . .                               \\n                Program/procedure . . . . . . . .                               \\n                Menu  . . . . . . . . . . . . . .                               \\n                Current library . . . . . . . . .                               \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                                                                \\n                                        (C) COPYRIGHT IBM CORP. 1980, 2005.     \",\n    Style:\n      \".................................RRRRRRRRRRRRR..................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n.........................................................UUUUUUUUUU.............\\n.........................................................HHHHHHHHHH.............\\n.........................................................UUUUUUUUUU.............\\n.........................................................UUUUUUUUUU.............\\n.........................................................UUUUUUUUUU.............\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\\n................................................................................\",\n    Cursor: \"5,53\"\n  }\n};\n\nconst id = \"flow4\";\nconst { rows, cols } = data.DATA.screen;\nconst { Text: text, Style: style, Cursor: cursor } = data.DATA;\nconst highlightList = {\n  mark1: { text: \"          \", row: 6, col: 58 }\n};\n\nconst onDblClickHandler = event => {\n  // console.log(`| ========== ${event.type} ========== |`);\n  let eventKey = event.key;\n  if (event.keyCode >= 8 && event.keyCode < 48) {\n    eventKey = `[' + ${eventKey.toLowerCase()} + ']`;\n  }\n  const selected = getStartSelection(id, cols);\n  const dataForApi = {\n    HEADER: {\n      tokenId: \"EWI112233445566\",\n      requestId: \"ABC123456789\",\n      deviceId: \"UUID9988776655\"\n      // requestCount: this.resultCount\n    },\n    DATA: {\n      Event: \"SELECTION\",\n      KeyValue: eventKey,\n      Cursor: `${selected.row},${selected.col}`\n    }\n  };\n\n  Axios({\n    method: \"post\",\n    url: \"http://localhost:8085/emulator\",\n    data: JSON.stringify(dataForApi),\n    headers: { \"Content-Type\": \"application/json\" }\n  })\n    .then(response => {\n      // handle success\n      const data = response.data.DATA;\n\n      setAs400Screen(id, data.Text);\n      setAs400Style(id, data.Text, data.Style);\n      setAS400Cursor(id, data.Cursor);\n\n      // clearAllMarkChackString(id);\n\n      const fields = data.Fields;\n      let selection = null;\n\n      const index = getAS400Cursor(data.Cursor);\n      fields.forEach(f => {\n        if (Math.abs(f.EndRow - f.StartRow) === 0) {\n          if (\n            index.col >= f.StartCol &&\n            index.col <= f.EndCol &&\n            f.StartRow === index.row\n          ) {\n            selection = f;\n          }\n        }\n      });\n\n      const selectionStart = getIndexByRowCol(\n        selection.StartRow,\n        selection.StartCol\n      );\n      const selectionEnd = getIndexByRowCol(selection.EndRow, selection.EndCol);\n\n      setSelectionRange(id, selectionStart, selectionEnd);\n    })\n    .catch(response => {\n      // handle error\n      console.log(`response: ${response}`);\n    });\n};\n\nconst onMouseUpHandler = event => {\n  // console.log(`| ========== ${event.type} ========== | `);\n  if (event.keyCode === 9 || (event.keyCode > 111 && event.keyCode !== 123)) {\n    event.preventDefault();\n  }\n\n  let eventKey = event.key;\n  const selected = getStartSelection(id, cols);\n  if (event.keyCode >= 8 && event.keyCode < 48) {\n    eventKey = `[' + ${eventKey.toLowerCase()} + ']`;\n  }\n  const dataForApi = {\n    HEADER: {\n      tokenId: \"EWI112233445566\",\n      requestId: \"ABC123456789\",\n      deviceId: \"UUID9988776655\"\n      // requestCount: this.resultCount\n    },\n    DATA: {\n      Event: \"KEYDOWN\",\n      KeyValue: eventKey,\n      Cursor: `${selected.row},${selected.col}`\n    }\n  };\n\n  Axios({\n    method: \"post\",\n    url: \"http://localhost:8085/emulator\",\n    data: JSON.stringify(dataForApi),\n    headers: { \"Content-Type\": \"application/json\" }\n  })\n    .then(response => {\n      // console.log(`| ========== ${event.type} ========== | `);\n      const startSelection = getStartSelection(id, cols);\n      const endSelection = getEndSelection(id, cols);\n\n      const selectionStart = getIndexByRowCol(startSelection.row, 0) + 2;\n      const selectionEnd = getIndexByRowCol(endSelection.row, cols) + 2;\n\n      setSelectionRange(id, selectionStart, selectionEnd);\n    })\n    .catch(response => {\n      // handle error\n      console.log(`response: ${response}`);\n    });\n};\n\nclass ListMappingPage extends Component {\n  constructor(props) {\n    super(props);\n\n    this.smRef = React.createRef();\n  }\n\n  render() {\n    return (\n      <div>\n        <ListMapping\n          id={id}\n          ref={this.smRef}\n          rows={rows}\n          cols={cols}\n          text={text}\n          style={style}\n          cursor={cursor}\n          highlight={highlightList}\n          onDoubleClick={onDblClickHandler}\n          onMouseUp={onMouseUpHandler}\n        />\n\n        <button\n          onClick={() => {\n            console.log(this.smRef.current.getListHighlight());\n          }}\n        >\n          get list marker\n        </button>\n        <button\n          onClick={() => {\n            this.smRef.current.clearListHighlight();\n          }}\n        >\n          clear list marker\n        </button>\n        {/* \n        <button\n          onClick={() => {\n            const highlight = this.smRef.current.getLastSelection();\n            this.smRef.current.setFieldHighlight(highlight);\n          }}\n        >\n          mark list\n        </button> */}\n\n        <button\n          onClick={() => {\n            console.log(this.smRef.current.getFieldHighlight());\n          }}\n        >\n          get field marker\n        </button>\n        <button\n          onClick={() => {\n            this.smRef.current.clearFieldHighlight();\n          }}\n        >\n          clear field marker\n        </button>\n      </div>\n    );\n  }\n}\nexport default ListMappingPage;\n"]},"metadata":{},"sourceType":"module"}